# Как работать с шаблонами

[![](http://img.youtube.com/vi/yD7s5x5C_r8/0.jpg)](http://www.youtube.com/watch?v=yD7s5x5C_r8 "")



В целом все как в вордпресс. Плюс некоторые штуки, которые упрощают вашу разработку.

[TOC]

## Структура файлов

### Html

- Основной шаблон - index.php
- Шапка - header.php
- Подвал - footer.php
- Сайдбар (колонка сбоку) - sidebar.php

Вы можете делать разные шаблоны для разных страниц. Это стандартная функция Wordpress.

Для этого по аналогии с index.php можно создать следующие страницы:

* Главная страница - front-page.php
* Ошибка 404 - 404.php
* Пост в блоге - single.php
* Текстовая страница - page.php

При желании можете посмотреть подробнее в [справке вордпресса](https://codex.wordpress.org/Иерархия_шаблонов)

### Css

Стандартные вордпрессовские стили - style.css

Вы можете вместо стандартного файла использовать Less - style.less, который автоматически компилируется в css при обновлении страницы.

### JavaScript

Вы можете создать файл script.js в корневой папке темы. Тогда он автоматически подключится к сайту.

Другие скрипты надо подключать дополнительно. О чем вы можете узнать в одной из следующих инструкций.

## Стандартные функции

### Подключение блоков

Подключение шапки (header.php) в начале шаблона

```php
<?php get_header(); ?>
```

Подключение сайдбара (sidebar.php)

```php
<?php get_sidebar(); ?>
```

Подключение футера

```php
<?php get_footer(); ?>
```

### Отображение элементов

Хлебные крошки

```php
<?= wdpro_the_breadcrumbs() ?>
```

Заголовок h1

```php
<?php if ( $h1 = wdpro_the_h1() ): ?>
	<h1><?= $h1 ?></h1>
<?php endif; ?>
```

Текст (содержимое страницы)

```php
<?= wdpro_the_content(); ?>
```



## Полезные константы

**WDPRO_UPLOAD_IMAGES_URL** - url папки, куда WordpressMVC загружает рисунки

**WDPRO_UPLOAD_FILES_URL** - url папки, куда WordpressMVC загружает остальные файлы

**WDPRO_TEMPLATE_PATH** - путь к папке темы

**WDPRO_TEMPLATE_URL** - url адрес темы



## Минишаблоны

Есть большие шаблоны страниц. Но часто полезно использовать небольшие шаблоны.

Например, чтобы получить html код меню. И потом этот html код добавить в текст страницы.

Как раз для этого вы можете использовать минишаблоны.



### Как создать минишаблон

Создайте в папке с темой файл, например, menu.php:

```php
<ul>
    <?foreach ($data['list'] as $item):?>
        <li>
        <a href="<?=$item['link']?>"><?=$item['text']?></a>
        </li>
    <?endforeach;?>
</ul>
```



### Как получить результат минишаблона

То есть, как получить html код минишаблона.

С помощью функции `wdpro_render_php(Файл шаблона, Данные для шаблона)`

```php
$html = wdpro_render_php(

    // Файл шаблона
    WDPRO_TEMPLATE_PATH.'menu.php',

    // Данные шаблона
    [
        'list'=>[

            [
                'link'=>'https://yandex.ru/',
                'text'=>'Яндекс',
            ],

            [
                'link'=>'https://google.com/',
                'text'=>'Google',
            ],

        ]
    ]
);
```



