# Как работать с хлебными крошками

[![](http://img.youtube.com/vi/7xEYpWbzdII/0.jpg)](http://www.youtube.com/watch?v=7xEYpWbzdII "")

[TOC]

Объект хлебных крошек создается сам автоматически. Даже когда на сайте не нужно отображать хлебные крошки, их объект нужен, чтобы сайт нормально функционировал.



## Как разместить хлебные крошки на странице

Добавьте в шаблон страницы

```php
<?= wdpro_the_breadcrumbs() ?>
```

И при необходимости отредактируйте шаблон хлебных крошек. Который находится в папке темы в файле **breadcrumbs_template.php**



## Как сделать, чтобы не было 2 главных

:arrow_right: Админка - Настройки - Главная



## Как настроить хлебные крошки

Вы можете управлять хлебными крошками. Например, в контроллере или файле темы functions.php.

По-умолчанию последняя страница в хлебных крошках не показывается.

Хлебные крошки необходимо менять во время их инициализации. Вы можете это сделать с помощью функции `wdpro_breadcrumbs_init`. 

```php
wdpro_breadcrumbs_init(function () {
	// Тут меняем хлебные крошки
});
```

Вы можете обратиться к хлебным крошкам с помощью функции `wdpro_breadcrumbs`, которая и возвращает объект хлебных крошек.



#### Как вернуть последний элемент справа (текущую страницу)

```php
public static function runSite()
{
    // Ловим инициализацию хлебных крошек
    wdpro_breadcrumbs_init(function () {

        // Возвращаем последний элемент (текущую страницу)
        wdpro_breadcrumbs()->unremoveLast();

        // Удаляем ссылку с последнего элемента
        wdpro_breadcrumbs()->removeLastLink();
    });
}
```



#### Как добавлять свои элементы

Справа

```php
wdpro_breadcrumbs()->append([
    'text'=>'Яндекс',
    'url'=>'http://yandex.ru/',
]);
```

Слева

```php
wdpro_breadcrumbs()->prepend([
    'text'=>'Yandex',
    'url'=>'http://yandex.ru/',
]);
```



#### Минимальное количество элементов, при которых хлебные крошки отображаются

```php
wdpro_breadcrumbs()->setMin(2);
```



## Как задавать родителей у страниц

Это когда у вас есть, например, текстовая страница **Проекты**, на которой отображается список проектов. И страницы самих проектов.

И вы хотите сделать так, чтобы когда открываете проект, у вас хлебные крошки были не такими:

​	Главная / Такой-то проект

А такими:

​	Главная / Проекты / Такой-то проект

Чтобы это сделать, вы можете у проектов указать в качестве родительской страницы страницу Проекты.

Для этого в классе Entity проектов переопределите метод getParent():

```php
public function getParent () {
    // Если это не админка
    if (!wdpro_is_admin())
		// Возаращаем объект страницы "Проекты"
        return wdpro_get_post_by_id(87);
}
```

